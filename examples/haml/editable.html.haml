!!!
%html
  %head
    %script{:src => "../pkg/jquery.tree.bundle-#{JQuery::Tree::Version}.js?"}
    :javascript
      ;(function(_) {
        _(function() {
          var tree = _('#tree').is_tree({
            plugins: 'code_editor html_editor editable toggle disable destroy'
          });
          
          tree.data('tree.options').tree_node_input.keybind('<', function(e) {
            _(e.target).parent_node().swap_node_type('dom');
          });
          
          var awesome = tree.create_node('Awesome');
          
          awesome.create_node('Cake');
          awesome.create_node('Bacon');
          awesome.create_node('jQuery');
          
          var set = tree.create_node('Set');
          set.create_node('Things');
          
          var subset = set.create_node('Subset');
          subset.create_node('Other Things');
          subset.create_node('Fun Times');
          
          console.log(tree.fn('to_haml'));
        });
      })(jQuery)
  %body
    %ol#tree.tree
