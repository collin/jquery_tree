!!!
%html
  %head
    %script{:src => "../pkg/jquery.tree.bundle-#{JQuery::Tree::Version}.js?"}
    :javascript
      ;(function(_) {
        _(function() {
          // BAD BAD Javascript example, don't forget your "var"
          // Or I'll hurt you.
          _.tree.use_button_plugins('toggle');
          tree = _('#tree').is_tree();
          
          awesome = tree.create_node('Awesome');
          
          awesome.create_node('Cake');
          awesome.create_node('Bacon');
          awesome.create_node('jQuery');
          
          set = tree.create_node('Set');
          set.create_node('Things');
          
          subset = set.create_node('Subset');
          subset.create_node('Other Things');
          subset.create_node('Fun Times');

          function notify(msg) {
            return function(e) {
              console.log(msg, e.target);
            };
          }          

          tree.bind('expand', notify('expand'));
          tree.bind('collapse', notify('collapse'));
        });
      })(jQuery)
  %body
    %ol#tree.tree
